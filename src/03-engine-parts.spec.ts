// @ts-ignore see https://github.com/jest-community/jest-extended#setup
import * as matchers from "jest-extended";
import {EngineParts} from "./03-engine-parts";

expect.extend(matchers);

test("Day 3 puzzle a sample", () => {
  const input = `467..114..
...*......
..35..633.
......#...
617*......
.....+.58.
..592.....
......755.
...$.*....
.664.598..`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(4361);
});

test("Day 3 puzzle a edge case: single digit", () => {
  const input =
`4....114..
*.........`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(4);
});

test("Day 3 puzzle a edge case: two diagonals", () => {
  const input =
`
....*.....
.510.515..
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(1025);
});

test("Day 3 puzzle a edge case: double count", () => {
  const input =
`
.*..*.....
.510.515..
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(1025);
});

test("Day 3 puzzle a edge case: special char in string", () => {
  const input =
`
..........
.510*515..
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(1025);
});

test("Day 3 puzzle a edge case: special char tests", () => {
  const input =
`
.......1!.
.1*.......
.......1=.
.1^.......
.......1@.
.1#.......
......1%..
.1&.......
......1(..
.1).......
......1-..
.1+.......
.......1_.
.1/.......
.......1?.
.1>.......
.......1<.
.1$.......
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(18);
});

test("Day 3 puzzle a edge case: reddit edge cases", () => {
  const input =
`
12.......*..
+.........34
.......-12..
..78........
..*....60...
78.........9
.5.....23..$
8...90*12...
............
2.2......12.
.*.........*
1.1..503+.56
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(925);
});

test("Day 3 puzzle a edge case: reddit edge cases 2", () => {
  const input =
`
.......5......
..7*..*.......
...*13*.......
.......15.....
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(40);
});

test("Day 3 puzzle a edge case: line break test?", () => {
  const input =
`
...10...5......
...10...5......
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(0);
});

test("Day 3 puzzle a edge case: duplicate numbers", () => {
  const input =
`
....................
..-52..52-..52..52..
..................-.
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(156);
});

test("Day 3 puzzle a edge case: reddit test case 3", () => {
  const input =
`
........
.24..4..
......*.
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(4);
});

test("Day 3 puzzle a edge case: reddit test case 4 - handle undefineds", () => {
  const input =
`
.....24..1*2
..10........
..397*.610..
.......50...
1*2..4......
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(1+2+397+1+2);
});

test("Day 3 puzzle a edge case: jebs repeating numbers", () => {
  const input =
`
..........
4-.......4
..........
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(4);
});

test("Day 3 puzzle a edge case: jebs 'example'", () => {
  const input =
`
467..114..
...*......
..35..633.
......#...
617*......
.....+.58.
..592.....
......755.
...$.*....
.664.598..
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(4361);
});

test("Day 3 puzzle a edge case: corners", () => {
  const input =
`
5*..........5*
..............
..............
*7..........*7
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(24);
});

test("Day 3 puzzle a edge case: squashed numbers", () => {
  const input =
`
....*.......
...123......
............
............
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(123);
});


test("Day 3 puzzle input sample", () => {
  const input = `
..........................................389.314.................206......................449.523..................138.....................
.........+.....954......723..........................................*.............687.....*..........692..........*........................
121......992...............*.......%585....814............936.......102..#353.........*.....140.........*..434..301..................%..315.
.../....................877................*...523............489.................*....380.......174..263.@..............824......710.......
...........$..733*758.......435...656...483.....................*..%855........154.779.....674...............320+....+........373...........
........707......................................503.422...591.551......676............306...*....................220..........@..410..639..
..................+....146.486.772..................*........*.....+848..*...863........-.....405........../..............636........*......
........190.....313.&.....*...../...+738..397.....@........#.840........167.../......#....508.......498..819..............*.........147.313.
....692*............177........................727..364..800.......................748..../........*...........%733......993.854........+...
...........*..............245..........128.............*.................322......................305....7*.......................152.......
........978.160..378.........*524.......*..905.343..+.681......615......-..........................................$..........@.............
.251..................................417.....*....53...........*...........354*126........119$...942....424....863...518*....971..96.48....
.................92.....441.681...532........................257.....932..............%...................*...............64.........*......
...........2.235*..........*..........*318.......317............................383.567..705.923..716.409.68.......................*........
...........*...................638..72...........+......367........802.........&..............=....*..*................-.../....401.773.....
........535...................*............4.29..........*.....784*....526........................141.342.189........630..958...............
...../.........745..+118....639....702.....%...#.*327...741............*......./324......531....................648/..............566.......
...+..172.........*.................................................910.....@.............*.....939................................*........
.799......37.307..140........334....@..204.852......+.....104............914..553..........994.&........547.#539........588$.......436......
.........*......*............*....12..../...&..914..223...$......+...........*....953+.......................................62........&....
........311.98.317...595..467................................#..142......*...620........$.......795.....363..135/..968...222.*....448...754.
...................../...............*702..881...............31.......630...............834........*.......-.........*.....*.527....*.......
..............614...........640+..888.......*....360........................%....764...............859.......586.....979.514.......30.......
.........@538........=...................176......*..200.300..............708...=......460...503..............*...............385...........
....................896.......$...................14....*..../........404..........-..*.......*.............688.460....$......&.............
......677...................110......&..-.....549..........934....654...-....334..153.508.....556......913........*....199........513.......
.........*....-...=204..342........515..85......./..955............../.......*..............-......18.*..........601..........+.......280...
.........80..515.........*.......$.........259...............250.../.......3..337.......%83..972..*....586.5.651......594....484............
..........................126.121......935*......235.815.......*.887........*........34..........294........*............$..............@...
45......$..651....$...............................*.........526.............41......*......302...................530..........@819.......463
.....710......*....26................734.......791......565............625.......%.887........@.......381..741..*...........................
......................881...........*............................989......+....235..............491...*...-.....693.........16..............
.............589*.....*.............610...318..#187..945@..774............................491.....*...867..................$...........679..
........957......614..553....345*56......#..................*...658.870........895......%........714......749...13..........................
...........$....................................127........775.....*......988..*.........254.276.................*..560.950.............*...
....761.................................825.........495..............496.....+.87.............*....*....689..26....*.....*...........131.745
639...*.196.....993*.......................*.603......*.............%................637....951.720........*......167...28..................
........./....-.....503........$.........634....*476...887.....463....221....457.........................698....................413.539*....
672..116...415................641....911...................774........*.......*.....................................926.674*693..&......103.
....*....%.....246.....................*...............290*.........59..542.253..$.....&......=.......320....196*...................586.....
...630..165....=...*.................690...360...........................*........42..584..650...153...*.........191........#218.....*......
.............*......51....680....102........*.......112...-....190......499.889&.................-...28....*........................340.....
...*729...130.683...........*....*.......776...928.....*..351....*...............878....................681.889...564*55................/760
839.................226...246...719..954.............428.........663.......341...+...357..................................../394............
......................*..............................................................*.....=910....821.........242......955......*569.......
......964.381.........923.....................491..906.....614........937....471..491....*........*....512....$...............574...........
........+..+.......................893..22.....*...........*............*.......@.........378......675./..........$103......................
...............525......$..=35....+.....*...301.......162.872......910.889.354............................871.679......894......731.........
...178........*.......543............865................*.....*857...........................630...........*....*.....@........&............
....#........954...............................433&..615...828............................*.....*745...+...556..321..................342....
..........................422...+..130.154.........................+..............225..235.501.........189..............609...............91
.....%........192....264.....$.609....*.....6..........932=.....*...920...........+...............391..............934.....*..211...=.......
.....805........*.......*975................$....159.........713....................&.850..$924.....-.....%..........*..212...*....176......
.............&..381..........917.905................*...276.............352...524.878..-........#......867....769.152........484.......341..
..664..390..140.......&.......*.........566.........163...*.&....995.....*...*..................811..............................874*.......
....=....$............43......989..............239......917..131.......13.....806....................................................174....
...........184..72.................=......928.....................684.....118.............239.........................#.....$...............
.609...116...*..*..........241...826.......*.......312......779=.....*...*......871.475...*...883.......717..538....-.581....424......259...
...*....*...33..574......&..%..................647*................378....803...*....#..260..*......543.-.......+.76..............464...*...
...611...42..............40...............375..........30......371............666...........185.....*.................161&........*.....968.
....................295.........-............-..................+......................*............789.........548................993......
..616....5.........*..........662.760............*670......272...........951........501.248....317......752.............616..739............
..........#..113..192..............$....267...761..........*...192.............456..............*.......*..........572....#....*............
............%...........606.............*...........628*.........*.342*503.....*...........409.......310........................516....316..
......622...................181.........454.............491....738...........214....#.........*..........937.....764#.......+...............
.........*..391=.....836...%.......................183..............402.............825...*....921..843...*.............+..897......546.....
.......264..............-..................$471........................*...174$.921........276.......*...513.......598.691............*.....
................$.64.......439......445..........701.......377...491%.422...........591........658...426.....*689..*.........687...=...175..
..171....429.260.............+........#...513.......*.....*...............477*..........375..&............641.....108..............444......
.....#....*.....................779..........*......140.24....................22.........@..28..............................................
.......682.....348+.153.168@......%.451.627.236.............92.141.....393........669.....................75.......557...585...826......559.
......................*.............*............881.........*....*776...*.105......*...=....#....&........&.526..+............#........%...
....955.....410......566..760....760........586....*....*...560........548.......335...951...749...256.........*......313....$...888........
...*....45.................*...................*..798.199....................77........................280&...347.207.@.....495.............
.934....*...36....841......952......266*....997............840...$867.......*....179...........@...................*.....86.....759..33*....
.......576...........*..........953....................722....%.............22..*...............952......965&.....777.....*....*........371.
..795................987....490..*..............................904.....4.......598....................................635..328.............
...............=563........#....270..........*.............=.......*..........+...............453.689.............=...................992...
...+......752..........................790...608.......914..69.....250.....200....996..892....=...*................472...@.............#....
..710......../.......604.................*.......401..=.............................*.#...........622...742..............685....&...........
......284..#............*.......401...802..........*...............65......166....901.....$..196*............65*................369.........
............815..................*........925....529........262....*........*...........234......729..37+.......95.......401................
.704..499%..........775....%....475....................287........379.......597....=...............................527..*.......264$........
................728*.......766......619*.....#604........./.75....................834....*.................912....*.....715.................
.......981.556..........................389........888.......*...............734......862.378...412........*......................556*......
..........*........................213........68..........696...............*.....................*.........726..678...@...931........991...
.../........=..............349.......*.........*....477.%.........#...=....7..............313...27....896.........*...13....................
...61..386.357.....=......*.......471.........126..&....579.....772....828..........322..*...............#.....644................844.......
.......*.......&.159...263............457...........................................@...772.....$...803..........................*....$158..
....202.....133......................*.................................362..................841.322...*..........730...868.....116..........
..........-.......................221..................41.................*...........=......*.........508.............=............465.....
...*667...979.983......................905..../......-.....321$.......731.690..........190.999....=.........*759....................*...515.
905...........*...............58.........*..801.....199..........305.=...........168.............298......25......&...604..........434......
..........531.217..497-.......*.......744.........................*......791.......*.................633.........657....................952.
......241...&...............675.156................831.........800..859...$....484.894...294......@....................825.655..627.........
.....*.............................*.586......790..*...178......................................716...*.......618.808-........*....*794.....
....401..+.....708.897.....655...351.../.426...*...148.....................798..........594............827...............166..784...........
........754.........&.......*...............+.............14....93..87.....@............*....205...-....................*..........224......
............784............88....................18.977..............*...................726...*....56.....575.........139..........*.......
.652...........*......*304.....*574.714.397........*.......*920...376....*....................627..........*................208...504.609...
.........535.......280......330.......=.*...............257...........+...738..@...271..453.................55....971......*..........@.....
..185.....%...931......%762.............902.........837..............922......34........*....915*.................*....%....158.............
.............................107.............*92.......*770...991*...................130.........256...910.....550......783............675..
....993........../...........*.........516.......*87..............147......268............................*........492*................*....
............190...611.....450...$.......*.....828....840.......................514.........................24..361.....485.......*504...778.
...............................809.486.552.........&....$....................=....*....206......576..595..........*382......................
...288..................$625........*..............382........318...........869.344..............*...&.....=361...................298.......
..............171..=525.............912...593..........@407......=....%43....................193.................676....&160...../..........
.................#.......262..............*.....259&............................724......35.....*879...............*........................
...........327..........-..........%...247...................381...................*32.......................183..735...............171.....
............$....................178.............925..70....*...............235................363......................97.764.792..*.......
.250..................*471............#....975....$.....*..42...13*687.............934...181....*.....62....532..9............*.....678.....
....*.......714.53..........245.....598...*..........251.......................116*.....*........269...=................483...../.......%...
....387......*..........498*............519........=..........$.......................600....373..........746.497..........#.248.........512
...........42....647.............776.........9......601....560.....696....267..................%....102...........250............289.33*....
......................667....793*......=521../.....................+........*......#....81.............*996.........*.............*.....713.
...........92............#.........*..................708................799...736.369....*.................-...779................439......
......484...*....655.......555..471.707....-..441....*.....882$........$.........=.........797........374..196...*...................../....
......../...284.............*...........297../....378................660.......*.....694.......709...*............499.................300...
..931...........752.986.805...................................52.783........887.127.....*........*...221....................=....../........
...*.......105.&.........*....141........................186.............-...............134....408......*230../709..767.....446.413........
..619.......*.......444...903.*.......594............446*.......*.........151.........................108..............*...............876..
............204.490...........285..74*.....898..373..........243....269+......616.....242........682..................923..582.....508*.....
486...=.........%.............................*..*...........................*......#.*............*.807..........*.......*....429..........
.....28.&.............416......851..968.....29..327.782..............706.....529..269.379........939...*...#...902.243..703.................
796......890.........*.........*....&...............*.......*...........*...................136.......944..52................@........451...
......................40..123...222..........52...408....995.......#149..708....$722....770*....*492.............714...%......99........%...
.....759.............................138+...+................................................517.......$....874.-.......54..................
.....*........................................=.......-......61...129.........517+...............264..130...*.....16........................
......769..176.........663..198...44.102...983......753..486...-.....*874.796.........-..........-...........941..../....973...........#....
...........@....74.......=.*........*..........$895.......=.......*......../........235....282.......243.......................337......69..
....................$.....................704..................283.328..........................218.............744............&...%82......
...........#.........252.......984............799.210..153..............699.29..........99............................*....648..............
............687..320.....518......*.............*.*.....#...........2...&...*...........*..19.356*......313.994.467..984...+................
.......#40..........*.....#...@....473.......789................/...*.......902......987..........179......*.................382..519.......
......................*.......11...............................926..153.#.................725*................................*.....*.......
...358...527..345..746.978....................*.........................607..798..899.........86.........*478.......888....949..767..807....
.....*...*.......%..............743*715..723...56................81.........*....=........345.........802.......776*...............$........
....26.743..........&943.................................................971.................%....527.................*....%...........@....
........................................782...............665......................532.......................998...991.702.542....406.779...
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(519638);
});

test("Day 3 puzzle JEBS input sample", () => {
  const input = `
...317..........214.....................................751.................................630...479..205....41.993............416.........
...*....813........%....572........%...629.154......518....*....365..................-.......*.......#.....................422...........661
269.......*...58...........=......264.....*..........*......937.-...........235...303.........848..............195.....154*.........144.-...
........476..@...162.855................$....288...821..............107.....-...........290......../..301.........=...........135..*........
618.............=....*...547...........441....*........................@................*........851....+...................+..*...102.310..
...*961....905......534..$...377...............854...341.342....485.......109....89.995..927..............................90..997......*....
............*...................*.................../.....*......@...........%....*...*.......................+44.....913.........9.....891.
....62......724...592....946.878...854....$.701............480......575.246....119.....54..296.906..684..................*.........*838.....
.................+......*...............478....................469.....*..................*...........+..502..156.........821...........983.
....................315.764..996..571...............=........................804.......&...892....958.....*......*.............61...........
........+...697*.....+.........*...*...........@.448........................*.......322.............*....309..37.602.....775....*...........
32.480..665.....557......+...435..449..691..327....................#....921..535..........755...43...597........................322..7......
......*.....848.........745.............*.......679/............106.......&........404......+....*...................888..750........*......
......93...*....=.............*297......550...........324.597............................................819.....997*......-...734$..588....
.........363..112..754...............&..........723....................14..954.............175....773...*.............&.....................
..................*.......#..........502......../...............606.........@..778*.......#.........*....844...713...743....-.........&.....
............827.895.-539...469...938...../.248.....................*.49............749.............783.........$...+.........33....471......
..............*.................../...517...&......368*710......432...*............................................841.=.................194
.....*491....395.......&481.................../.#...................83................668..181.....698..155*...........981.200..............
...................219.................196.473..224.....=.....733*.......=.........98*.......*.420..........671.....*......*......369.205...
........@......696*....669.....50.....................853.593.........168....@.............802..*...388............3......792........*......
......641............./....62..*...836#.......*169.........@...............872.................416....*.................-...................
..........................#...377..........179.......101........+504.................*554.............947..............447.............830..
243........*902.....#................480*...........+.....*258.........*243.......389.......&....................723.........838...991......
........182.........33..........840......616.733.......756..........290.....................145..119..........................+......&......
..............................................*....807...................777......+..556............@....85#................................
.212.664..3......316..579..462..............435.......*............@....*........36...$........572................703..732........@.........
...........=....@.....*.....*............*.......-..337......656...411.357.373.....................*21....37.........%./.....918...185.387..
...350.................338...161.856..157.906...527...........*............+.........*336.......204............755.............*............
....&...........683...................................801......313............831.230......374.......................383.....940.48.........
...............*........447......635....335......%.........627........44@..........................895....................@.................
....$....958..943.......#...935.%..........*...794......16.*..................+...........100..469........743.*.........529....=.......883..
..308.....*........*776.......*.....*....430............*..562.......895......765.................*.........*..776..........246..921&.......
.........200...............*..1....572................814...........$......#..........138...&....487..668..58.......485.....................
...*845.............935...958.................................667.....%.121.......691.......245.........*..............*........131.........
.........*............*.............=............................*.593.............*..................380........189...219.211......@.......
.....152..783........634...........521.+.......26.............659...............328...%.............................*........$......397.*...
......*.......124..........299..........808.....*........359................424.....%..454..........553.............49..562.....257......723
......641.........24.............576.............975........=..............*.......974.............*...........146......*......../...@......
940.........&....@....221........*.........149.......&...............689....418...........538...................*.....985............526....
.............192.........*816...582...561..+..........915..981%.......*..................*......&8....+.........497..........145............
.........144........$....................@......................425.933....846*824.$...370.342*....375...641..=........927.....*.......160..
............$.......925...67.655....57.............=905..881....@..................585.........746.............224..........224...864...*...
.....872................#..*...$.....*.........#............*...........979....699...................947.........................*.....788..
............949......676..42........340.....694...144......712..296..45...*.......*..............191.@.......889-......=786.....417.........
...........*.................846....................*..160.......*.......403.....347...914.91...=...........................................
.371.=....904.643......816...*...647...$.858.......431..........486..........706......*....-..............961........................698....
......398.....*....252*....591..../..224...$..341...........#................*................956............*...27..............57.....*534
.............363...............................&.............69........163.233.580....113*367..............44...*..................*406.....
...893..457..........91%........................................538.....$......*..............................475....864.......289..........
..........-........................549............909..572.....-..............385.............97.....................=.....159..*...........
...174...............................*...576.875....*.....=...................................*....506..115...............*....856....408...
.....=.......685....58........177.965...-.....*....489......402/..&603.....................357......=..&....84.....451&.810........93...*...
.....................*...87.........................................................447........@............*................-......*...117.
......205.593........298..................................622....955.......34*325......*....965...................604......729....509.......
........=..*.......+...............966.......................$.$...................206......................99....-....424..............$...
378..........636..141.543%....34...........437-.................303.........80....*.............915...........*........*...885...........148
............*................=......................39......-.......208.560*...906...................320.860.975....532....*.........740....
....834...13...................426.395*962...44.......-......552...................*539.+........953.......%............647.........*.......
..............589...............*..........................................179...71.....207........#.577......758...247..........958........
....930.......*......&139...820.56.....%164....................536.=31......*.............................................89................
.....#.........569............*.............882....296......&................465.......21............=.....331........998*..................
..........847..............206....$............%.....#.464.318..=.....751*........................501..971...*..............227.......854...
.466......*......768..../.......110......................*.......612......551......868.......727.......*......39.850..-.....*.........*.....
.........377.561....&.718...94............246..........159...........255............%.........*...........445........472...520.......304.472
...............*..........................@.....292.............................476......&.........135......*...223.........................
..............288.....................944........*......775*934................+......152.............*55..806............239#..............
...181*552...............................*....238...............499...880.476...................................417.#66.........472.........
.....................*........%...629.853............*......@9...@......=.....443...673........271...*..........-...........98..............
.........567*288...10.257..837......*.........862..14................21......*...................%..714...........963.........%.450....528..
....................................862..................889.....604...*424..350...812..34........................*...646...................
...............*....*933.....355@..................*528....=......................+.....*...&996..493.....992..840.......*..271.............
..............984...............................678.................+571.....648......262............*......*..............*......293..197..
..........386..............463..984......129................-588..............*..361...............408..269.652...........406........*..+...
.........*............494....*.......847...*..#..942..825.............&......32.........................*........427...........-....339.....
.......415.=434..439.....*..23........$..34..410.........+.......746.976.............731..../.1*.........709.......*.........197........#...
................*......493.......760.............................................654*....398.........158....../......396.............922....
.....845.=....955...................*.....*574....954*........@...........$.......................-....*.....796......-...426...$732........
.......*.88.............@.........738..924............213...40....115......315...................299...108...................*.......320....
....567...............%..13.................*14...........$.......@.....%.........../...518.......................-.810...514..952..........
........892...275....485.......820.......367.......@.....544...........428.........54..-.............*....108..964...*..........*...........
.......@...................861......#.........893.116.........836.982......961.............../...615.188.....*.....914.........761....765...
...........169.962.........*......81...769...#...............................-..714.424..759.390...@.........855...........562.........*....
....../906......../......81..968.......-..............................185..............*.%............=......................*.205.....72...
................*............*....110........./.907....241.......708...*...383.701..869...............346..............649.771.#............
.............531.976...670...288...........382....*.......*116.........820.-...*............764..556...........@..984....$.......638...165..
........................-..........479.............55..........................515.....345...#................533...*.......................
.....$....569.936.301.........914..*.......-.....=................453..............209..*..........................551.-.......479..........
..233.....*......*.....506.........931..246....221.639....#..................@......*....784........591.................818...%.......523...
.......233....%.........................................416...714&........448.......698......387........432............................*....
...........718.......@......465....................430........................603.......491..*..........*...22.164...+...............179....
...............450.462.549.=....283.185...880......................652.......................142..430.372.....*.......633...................
.370....143....*.........*.........*......*.....962...........*.....*....................537........%...........&136........................
.....39.......956......213...........476.143.......*.......321.60....708..........966.......#...921......+146............+...665............
...........................941...321*.............880.499...........................*.............*.383........668.....212...*....827*428...
..236..527...................=..........................*........../..854......................489...-........................234...........
.....*.................................622..........289..599....207...*............&953.599=...............885............682.....914.....12
793...754.............$497..............*............*................163....................+.........15.....*..*....338*..................
...*.......864................348..........758.......439...................1........83....748...............325.535...................=.....
...368....*........382*250....*.....317.......*................473*....877.+.........*..................@................%....331..513......
.........55..239...........2...377...=......1.792...294*607........831..........*.950...&....-....#....864.....139.......512................
....427.......*...*...#....%...........765...............................418.995.........6..492.465...........@....................*218.....
......*......939.410.371......#...-......#.................&............*.............................496..........503..........629.........
.....410....................215.193.................678.786.....370...71..598......329..........262.................*.......473.............
.........979..855..432=................212.....346..*....................*........*............#...................249...=.....+...525.217..
.........*....*...............387.....*...........*.228......./....%....245..&.....690.....429............................685.........*.....
129....907.423........949.772......666....173..679........992.313...398......427..............*...................244.......................
.........................*.....*............................*........................../....998..........510..825*..........................
.....132....867........%.....42.780..............776*744...898.......664....196....360..823......899.211..=.................+...............
.....*.......%......703................916...%...............................*....*................*....&.....689..$......591.......64*238..
...684..160.......................445.....*...164.......602....249...........431.12.............=..758............138..........983..........
..........@..766.92..............*......334........671..*...............&646..................797.............950.........935.........469...
................*..................510..............*..285..........................................650.......*....807...*............#.....
..205.669...768...88........................+59..148............682........#.................3..............376...*.......191...............
.........&....*..%........................................183......*......61................/........657..........163............255........
..674.......46..............392..251....507.................*.248...74..........+...775.97.....222.........%..........135...950.....*.......
....*...........*967..533...*............*......949..245.276...#.........*.....728...................677..137.....*.....*..&........522.....
...367.......196.......$..239..........510.748..*............/...481..722....................800........*........735..268...................
.........442...................111...............752........567...*.........*..........696..%............790................................
.............182....677..613............................/..........814...372.86........*......915*..............799.................*....253
....&....739*........../....*206.........284...........584...427................727..485..........781.992.........-...............619.......
.....603.........................907........*....607......../.............................617............*...=.......986-.............918...
.........819..667..341...........*....#..397................................#........$..................822...20...........359.....43.......
.......&....*...#....*.......*....88.691.........................700.675....910...227........350...&591............301.......$.......*......
..404$..259.......557....876.218...........216.=211.7...=569........*........................=.................320..*....462...480....747...
..........................+.............#..*........*.................=518........................274............@...276........../.........
.......#...904......622..............923....543....969../..................571..778......#888.253..................+.....163.........-679...
295.207.........708......................................942...496....#...*.......*.373@.......*..645...............580.......177...........
................................982*317............304........*.......28.823....994.......370..96........@.=...*675............*.....604....
644.138.522......%......901.................374*..*.........458.....................#135....=..........730.355........955...=.47.277*.......
...*....*.........288..*.............+.433.........240.................317/........................609............#90.*...623...............
.....%..675....87.......110...126.408..*......355.............................@131......110....778...*..519.834.......537.....19........502.
..831............*460........*..........824.....*..751...467.829..........850..........*............365....*................................
..........398..............473....-..........751.....*......*................@.446*....780...........................732....................
.......................#.........333..................170........596...............943......66..186......@...........@.....=................
......124....780.....58.....933........926.../.............693...*..........*828...............*........666.............=..337..............
.......*.........197..........$.......*......67............-...335...........................122...582................197..........328......
.....151...............................763......180....@............890../....835...578..871..........*295..#....%...........-541.$.........
........................153.........-........@.....*...661..*833......*.775.....-...........................40....665...............701.....
..890....252......................544........809..425..............925......................................................................
`;

  const enginePartsOutput = new EngineParts(input);
  expect(enginePartsOutput.totalCount).toEqual(514969);
});
