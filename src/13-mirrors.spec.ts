// @ts-ignore see https://github.com/jest-community/jest-extended#setup
import * as matchers from "jest-extended";
import {Mirror} from "./13-mirrors";

expect.extend(matchers);

test("Day 13 puzzle a sample", () => {
  const input = `#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#`;

  const mirror = new Mirror(input, false);
  expect(mirror.runningTotal).toEqual(405);

  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(400);
});

test("Day 13 puzzle a sample broken up first", () => {
  const input = `#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.`;

  const mirror = new Mirror(input, false);
  expect(mirror.runningTotal).toEqual(5);

  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(300);
});


test("Day 13 puzzle a sample broken up second", () => {
  const input = `#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#`;

  const mirror = new Mirror(input, false);
  expect(mirror.runningTotal).toEqual(400);

  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(100);
});

test("Day 13 puzzle a input sample 2", () => {
  const input = `.#.##.#.###
..####..##.
#########..
.##..##..##
.##..##..##
#########..
..####..##.
.#.##.#.###
#.#..#.##.#
..#####.###
...##.....#
..#..#..#..
...##...#..`;

  const mirror = new Mirror(input, false);
  expect(mirror.runningTotal).toEqual(400);

  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(4);
});

test("Day 13 puzzle b edge cases", () => {
  const input = `..##.#.
#...###
#...###
..##.##
..#..#.
....##.
#.#.#..
.#...##
##.#...
###.###
###.###
##.#...
.#...##`;

  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(200);
});

test("Day 13 puzzle b edge cases 2 - reset smudges if incorrect", () => {
  const input = `#.#.###
..##.##
...####
##....#
##....#
...####
..##.##
#.#.###
#.#####
....##.
.#...#.
#.#####
#....##
#..##.#
#..##.#
#..#.##
#.#####`;

  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(1400);
});

test("Day 13 puzzle a sample input", () => {
  const input = `.#..#......
..#.#......
..#...#....
#.##...####
.#..#..####
#.#.##.####
###..#.#..#

.#.##.#.###
..####..##.
#########..
.##..##..##
.##..##..##
#########..
..####..##.
.#.##.#.###
#.#..#.##.#
..#####.###
...##.....#
..#..#..#..
...##...#..

..##.#.
#...###
#...###
..##.##
..#..#.
....##.
#.#.#..
.#...##
##.#...
###.###
###.###
##.#...
.#...##

#.#.###
..##.##
...####
##....#
##....#
...####
..##.##
#.#.###
#.#####
....##.
.#...#.
#.#####
#....##
#..##.#
#..##.#
#..#.##
#.#####

###...#...#.#..
.#.##.#.....#..
..###..#..#....
..###..#..#....
.#.##.#........
###...#...#.#..
###..#..##.#.##

##.#.....
##.#...#.
..#.#..##
..##....#
#..#....#
#.#..##..
#.#..##..
#..#....#
..##....#
..#.#..##
##.#...#.
##.#.....
#.#..#.#.

#..#..#..#.##
..........###
..........###
#..#..#..#.##
###....####.#
....##......#
##..##..##..#
###....####..
....##.....##
.#......#.#.#
.##....##..##
..#.##.#....#
####..######.
.##..#.##.###
..##..##...#.

..#.###..#.
####.#.....
..#.##.##..
...##...#.#
###.#......
#######.###
..#.#...###
###.###.##.
###..#...##
##....##.#.
####...#.##
..###......
.###..#.#..
##.##..#.#.
##.##..#.#.

#.##.###......#
.#..#.#..##..##
..##..#.#..#...
#....##.#.#.#..
#....##.######.
######....###.#
#.##.#...##.##.
..##..#####.###
..##..######..#
..##..######..#
..##..#####.###
#.##.#...##.##.
######....###.#
#....##.######.
#....##...#.#..

......#....#...
.####...##...#.
######..##..###
######..##..###
......##..##...
.####.######.##
.#..#.######.#.

#############..##
.########...###.#
.########...#.#.#
#.##..##.###..##.
..#.##.#....#.#..
..#....#...####..
#.#....#.##.#.#..
.#......#......##
.#......#......##
#.#....#.##.#.##.
..#....#...####..

...#.###.#.
....##.#.##
..##..#.###
..##..#.###
....##.#.##
...#.###.#.
#.#.#.#.#..
...##.#..##
.#.####...#
.#.#.##...#
...##.#..##
#.#.#.#.#..
...#.###.#.
....##.#.##
..##..#.###

.#.##.#.#.#..#.
.........######
###..####.#..#.
##.##.##.......
..#..#..##....#
.#.##.#...####.
##.....#..####.
..####..#..##..
##....##...##..

....####.####..
.#..####.####..
#.#.##..#####..
##..#.#.#######
.#.#.##.##.##..
..##..#.##..#..
####....#...#..
..#.#....##.#..
#..#..#..##.#..
.#.......#.####
..........##...
#.....####.#.##
##....##....###
.....#.##.#####
.#..#.##....#..
#.....###...#..
#....##........

#..##..#....###
#..#.#......###
.....#..####...
.##.##.##...###
.....##.###..##
.##..##....#.#.
.##...#.#.#.#..

.###.....##
..#......#.
..####.####
#.##...#.#.
#..#...####
##.#.#..###
##.#.#..###
#..#...####
#.##...#.#.
..####.####
..#......#.
.###.....##
.#.##.#..#.
..#...###..
..#...###..
.#.#..#..#.
.###.....##

###..##
...####
.#..#.#
#.##...
#...#..
#...#..
#.##...

..#......#.....
#.#......#.#..#
.#..####..#....
.#.#....#.#.##.
..########..##.
..#.####.#.....
..###..###..##.
#..######..####
.#####.####.##.
#..#....#..#..#
##........##..#
.....##.....##.
.##.#..#.##....

...#.##
...#...
#..####
#..####
...#...
...#.##
#.###.#
.##.#.#
.#.###.
.##.##.
.##..#.
.#.###.
.##.#.#

..#...##.
..###..##
...##.#..
###.#.##.
..##..##.
###..###.
..#.#.#..
####..#..
...#####.
##.####..
###.#..##
..#######
..#######
###.#...#
##.####..
...#####.
####..#..

.##...##.
#..##..#.
###..####
#..##.##.
.##..##..
#..###.##
.##.##.##
....##.##
.##.##..#
.##.##...
.##.##...
.##.##..#
....##.##

#...#.##.##..#.##
##..#.###...#####
##..#.###...###.#
#...#.##.##..#.##
...#.....###..##.
..####.#.#.####.#
..####.#.#.####.#
...#.....###..##.
#...#.##.##..#.##

.##..####.#####
.##..####.####.
.##.#.##..#.###
#..#.######.#.#
.#....##..##...
##..#.####..##.
.....#......##.
##..##..#.#.###
...##..#.#.#.#.
...#..##.###...
...#..##.###...

#..##.#.#.#
######..##.
#..#...#..#
#..#...#..#
######..##.
#..##.#.#.#
#..#..##..#
#...##.#.##
######.##.#
....#..####
####..##.#.

##.##..##.#.##.#.
....##.###..##..#
.##.#.##..######.
.##.#.##..######.
....##.###..##..#
##.##..##.#.##.#.
#####..#...####..
..##....###.##.##
.####...##.#..#.#
.####....#......#
##..#...#........
.##.#..#..##...#.
#####..#.##....##
#.#.#.#..#.####.#
##.######........

....#.#..
....#.##.
##.##.#..
##...#.#.
#.##..###
#.##..###
##...#.#.

##....###.####..#
##....###.####..#
.#.##.#.....#####
.######..#.#..#.#
.######.##.######
..#..#....####.##
.######.#.#.###.#
###########.#.##.
........##....#..
##.##.###..#.####
#......##....###.
#.....#####...#.#
###..###.##...##.

#..#...##
........#
....##...
....###..
........#
#..#...##
####.##..

.##..#.
##....#
##....#
.##..#.
...#.#.
#####.#
#####..
...#.#.
.##..#.

.##....#.#.##
#..#.....#...
.##.....###..
#..#...##....
#..#...#...##
..#.#.#......
.....#.#..###

#.....###....#.##
#.##.#.....#...#.
....#####.#...###
#...#..#...#.....
....#...#...####.
....#.#.#...####.
#...#..#...#.....
....#####.#...###
#.##.#.....#...#.
#.....###....#.##
.##.##....#..##..
...#.#.#..#.#...#
####...##.##...#.
.###.....###....#
.###.....###....#

..##..#...##...
##..##..#....#.
......#.#.##.#.
..##..#.#.##.#.
#.##.###.####.#
.####.....##...
.###..#........
.#..#.####..###
##..###...##...
#.##.####.##.##
######....##...
######.##.##.##
.####.#.#.##.#.
######..##..##.
.#..#..########
#.##.##...##...
#....##.##..##.

#..#..##.##.....#
....###.#...##.#.
##..#.#...###.##.
##...#..#.#..##.#
..#.#.....#.#####
..#.#.....#.#####
###..#..#.#..##.#
##..#.#...###.##.
....###.#...##.#.
#..#..##.##.....#
#..#..##.##.....#
....###.#...##.#.
##..#.#...###.##.
###..#..#.#..##.#
..#.#.....#.#####

##.########.####.
......#...#.####.
#.##..###.#######
##...#.###.##..##
##...#.###.##..##
#.##..###.#######
......#...#.####.
##.########.####.
..#####..#.######
#..###.#.#.#....#
..#.#....##.####.
......#.###..#...
..#...##...#....#
#...#....##..##..
.###.#.##.##.##.#
..#...##.##......
.##..#.##....##..

.###...#...#.#.
.###...#...#.#.
#...#.###..###.
##.##.#..#.####
.........#..###
..##.###..###.#
.......####....
####.#.#.#..###
####.###.#..###
.......####....
..##.###..###.#

.#..#..
.#..#..
#.#.#..
.##.#.#
#..#.##
..###..
.#.....
######.
#####.#
#####.#
######.
.#..#..
..###..
#..#.##
.##.#.#

#....#.#...##
######....#..
..........###
########.#...
#...###...###
##..###....##
..##...##....
#....##...#..
......#.#.#..

##########.#.#.##
..........#.#.##.
#..#..#..#..##..#
..........#.###.#
..........######.
.##.##.##.####.#.
#..####..#####..#
#..####..##...##.
..#.##.#...###..#
#..####..#......#
####..#######..##
#..####..##.##.#.
####..#####..####
....##.........#.
.............##..

.#..#.####..#.#..
####.#...#.......
#.##.#.#.##..#...
.........#..#.###
......#..#.#.##..
######.#.##...#..
.####..##.#...###

...##.##.
.....#.##
##...#..#
...##.##.
..#######
..#######
...##.##.
##...#..#
.....#.##
...##.##.
..####..#
....#####
.#.##....

..##....###
######.#..#
..##..#.#..
#######.###
...#.####..
##..#.###.#
##..#...#.#
###.##..##.
###.#.#.#.#
...#...#..#
###.#.#####
###..##....
...#.#....#
...#.#....#
###..##....
###.#.###.#
...#...#..#

##..####.#.
##..###.###
......##.#.
######...##
##..##..#.#
##..###...#
##..###.###
#.##.#.####
......####.

..#.##.##.#
#.##..####.
#....#.##.#
.##....##..
#..##......
##.#.......
#####......
#.#.#.#..#.
##..#.####.
#.#...#..#.
#.##..###..
###........
###.#......
..###..##..
..###..##..

####.###.##.#
......#......
....##.##.#..
....#..#.#..#
#####..#.###.
.....##...##.
#####.#.#.#..
....#......#.
.....#..#...#
####.#####.#.
#####.#..#...
.##...######.
.....#.######
####.#.##...#
.....##..####
....###.###.#
####.####...#

..###....###...
.##...###......
#.#..#..###....
##.##.#...#..##
#.####.#.##.###
#.####.#.##.###
##.##.#...#..##
#.#..#..###....
.##...###......
..###....###...
#.#..#......###
....#..##.#.###
...#.##..#.###.
.#.####.#.##.##
.#...##.###.###
###..#...#...##
###.#.#........

...##..#.##
..#..###..#
##.##.##..#
..#.#.#....
##....#.##.
..#####....
##..#.##..#
###...#....
...#.#.#..#
...########
###..##....
..##.......
###..#.....
###.##.....
###.#.#....

.#.#..#
#..#..#
.#.####
#...##.
..#....
##.#..#
.#.....
#...##.
#...##.
.#.....
#..#..#

###...##.##..#.#.
..#.####...#....#
....#..######....
....#.....#..#.#.
....#.....#..#.#.
....#..######....
..#.####...#....#
###..###.##..#.#.
###..#......#..#.
##..###.##..#####
...#...###....#..

.#.....####..##.#
#.####.##.##.....
##..###.###.##..#
...###.##.##.#...
##.#.#.##.#..#...
#..#.##.#.....#..
.#..#...##....##.
.#..#...##....##.
#..#.##.......#..
#..#.##.......#..
.#..#...##....##.
.#..#...##....##.
#..#.##.#.....#..

##..##..##..#
..##.#..#.##.
##...#.##...#
###..####..##
..##..##..##.
..#...##...#.
.....####....
....#....#...
..###.##.###.
###........##
..###.##.###.
##..######..#
..#..#..#..#.
##..##..##..#
..##.#..#.##.

#....########
.#....#..##..
#.##...##..##
..#.#.#.####.
##...#..####.
###.#...####.
.#.##...#..#.
.#....#..##..
..#...#.####.
..#...#.####.
.#....#..##..
.#.##...#..#.
##..#...####.

#.#......###.##.#
#.#...#..###.##.#
#..###..#.#..##..
###.#..##..##..##
.#..#..##........
#.###.....###..##
##..#.#.##.######
##.#.....#.#.##.#
##...#.##..#....#
...#.##..........
.##.#.#..#.......

..#####.#
....##.##
..#.#####
#..###.#.
###..##.#
.#...#.#.
.#...#.#.
###..#..#
#..###.#.
..#.#####
....##.##
..#####.#
.###..##.
...#.####
..###...#
..###...#
...#.####

..#...#...##.#.
##.....####.###
##.....###..###
..#...#...##.#.
##........#....
..#.##.###.#...
####.###.#####.
####.....###..#
....#.....#####
##....#.#..#..#
....##..#..#.#.
...##.###.....#
###.#.##.....##
##..###.#..####
##..####....##.
##.###....#.#.#
###..#.#.##.#.#

...#.##..
..#.####.
####.##.#
###.#..#.
##.#.##.#
..#..##..
###......
....#..#.
.....##..
####....#
...#.##.#
..#..##..
##.######

#.##.....
..#.#..#.
..#.#..#.
#.##.....
.##.....#
##.##..##
..###.###
.##..##..
.##..##..
..###.###
##.##..##
.##.....#
#.###....

#....#.##.####...
##.#...#..#..#.#.
####..####.######
..#...#...#...##.
###....#.#.#####.
###.#..##.....#.#
##.####.##.##..##
....##...##..#..#
##.....#.#.#...##
###.#.##.#.##..##
..##..##....#.###
##.##..#...###...
...###.#...####.#
...#....##.....##
##########...#..#
##....#.#.#......
##....#.#.#......

###.##.####
.##.##.##.#
#####.####.
#.#.##.#.#.
.#..##..#.#
..##..##...
#...##...##
#.#.##.#.##
##.####.##.
####..#####
..##..##..#
.##....##.#
.##....##.#
..##..##..#
####..#####
##.####.##.
#.#.##.#.##

.###............#
..#..##......##..
###....#....##...
###..####..####..
.....##.#..#.##..
..###.###..###.##
.##....#.##.#....
..#...#......#...
#..#.###.##.###.#
#.##...#.##.#...#
..#.##.#.##.#.##.
####...#....#...#
####...#....#...#
..#.##.#.##.#.##.
#.##...#.##.#...#

#..##.#
.##..##
.##..##
#..##.#
.#...##
..#####
....#..
.#...#.
.#.###.
.#.###.
.#...#.
....#..
..####.

##.......
##..#..##
#####....
.#.#..#..
.....#.#.
.##.##.##
.##.##.##
.....#.#.
.#.#..#..
#####.#..
##..#..##
##.......
##.......
##..#..##
#####.#..

..###....#.#.###.
#........###.####
..#...##.###.#..#
.#.##.##....#....
#.##.###..#.#####
##..###.#.....##.
##..###.#.....##.

..##.#.##.#.##..#
.#.##.####..#.#.#
...###....###...#
#....#....#....#.
####.#....#.#####
.##..........##..
.##..........##..
####.#....#.#####
#....#....#....#.

..##...##
.....#.##
.###.#...
..###.#..
..#.##.##
...#.####
...##..##
##.##...#
#####.#..
###.####.
.......#.
##.#.####
##.#.####
.......#.
###.####.

#..#..###
#####..##
..#.#....
###..#..#
##.###...
...###.#.
##.###.#.
...#.....
...###..#
....#..#.
##.#####.
###.#.###
###.#.###
##.#####.
....#..#.
...###..#
...#.....

...#...
...#.#.
##.....
....##.
...#.#.
..#.#..
#.#.#.#
#.#.#.#
..#.#..
...#.#.
....##.
##.....
...#.#.
...#...
##..#..
#.#.#..
#.##...

#..#...##.#....
#...#....###..#
.#.##.......##.
##..##..#..#..#
####..##..#....
###..#.........
#..##.#.##..##.
##..#.#.#..#..#
.###########..#
..........#.##.
###....#.#.....
##...##.####..#
##...##.####..#
###....#.#.....
..........#.##.
.###########..#
##....#.#..#..#

####.##.###..
###########..
....##...##..
########.####
####.####.#.#
....##.#.####
####..#.##.#.
######.#...##
#..#..#..#...
........#....
....##...##.#

.###..##.
###.#.#..
.######..
###.##.#.
###..#.#.
....#..#.
....#..#.
###..#.#.
###.##.#.
.######..
###.#.#..
.###..##.
..#.##..#
..#.#...#
..#.#...#
..#..#..#
.###..##.

###.#..
.#.####
#.##.##
...####
.#.#..#
##.#.##
#####..
#####..
##.#.##

..##.###..##.##.#
#.#....##.#...#..
#.#....##.#......
..##.###..##.##.#
..##.###..##.##.#
#.#....##.#......
#.#....##.#...#..
..##.###..##.##.#
##.##.##....##.#.
.#.#.###.###..#..
...##.#.#.#######
##..#.#..###.####
#.....##.###.#..#
.####.##..#.##...
###.#.#...##.#.#.

#....###.###..#
#######.#...#..
######.##..###.
#....#..#...#.#
##..##..####.#.
#########......
.#..#.####....#
######.##....#.
######.##....#.
.#..#.####....#
#########.....#
##..##..####.#.
#....#..#...#.#
######.##..###.
#######.#...#..

##.##..##.####.
.#........#..#.
.#..#..#..#..#.
###.#..#.######
##........####.
##.#....#.####.
..###..###....#
.#...##.#.#..#.
###.####.######

#...#..#.
#.#.#..#.
#.#..##..
###.#..#.
#.###..##
#.#..##..
##..#..#.
####....#
.#.#....#

##.....##....
.#...##..##..
#..##.#..#.##
##.###.##.###
.#.####..####
....########.
.##..######..
#.#..#....#..
.##...####...
#.###.#..#.##
..###.#..#.##
.##..######..
##.###....###

#.#.###..
#.#.#.#.#
#.#.#.#.#
#.#..##..
#..##...#
....##...
#.#..###.
##...#.##
##...#.##
#.#..###.
....##...
#..##...#
#.#..##..

.....##..###..#
##..#..##.##...
.##...##..#..##
.#..###.##.##.#
.#..###.##.##.#
.##...##..#..##
#...#..##.##...
.....##..###..#
#.###.......#.#
##..##...#.####
##..##...#.####
#.###.......#.#
.....##..###..#

#........
..#.####.
..#..##..
##.......
####....#
##.......
...######
..##.##.#
#####..##

##......#####
#.######.##..
#..####..##..
..##..##...##
##......###..
.#.#..#.#....
##..##..###..
.#.#..#.#.###
##########.##
..#....#..#..
.##.##.##....
#..####..#...
#.#.##.#.#...
#.#.##.###...
....##....###
###....###...
##.#..#.###..

....###...####...
.##.#.#..##..##..
......##...##...#
#..##.####.##.###
.#...#..#.#..#.#.
.##.#.###......##
#..##..###....###
.##.#..###.##.###
.##...#..#.##.#..
........#.####.#.
####.###.#.##.#.#
####..#.########.
######...######..
.....###...##...#
#..#.##.########.

###..####..
......##...
......##...
###..####..
...#..##..#
#..#.####.#
##.#.####.#
.##.#.##.#.
..#........
#..##....##
..#.#....#.
..#........
#..#....#.#
.#....##...
#.#...##...

###......###.
####....#####
..#..##..#.#.
....####....#
#.##....##.##
.##.#..#.##..
...##..##....
#.##.##.##.#.
#.##.##.##.#.
...##..##....
.##.#..#.##..

.##.....#..#.
....####....#
.#.####.#..#.
##.#...#....#
##.....#....#
##.##..#....#
..#..#...##..
..#..#...##..
##.##..#....#
##.....#....#
##.#...#....#
.#.####.#..#.
....####....#
.##.....#..#.
.#..###..#...

...#...######
.###....#####
..##....#....
#.#.#.##.#..#
##.##..#.####
##.....#.####
..#.##...#..#
.#.......#..#
##..##.#.####
##...#.#.####
.#.......#..#

.#.###..#.##.
.#.###..#.##.
..#...#...###
##.....#.##..
#.#.#....#..#
###....#.....
.#.###.#...#.
########..#.#
##.#####..#.#

#.#....#....#..
######.#....#.#
.#####.######.#
##....#.#..#.#.
.##...####.###.
....#..######..
#######.#..#.##
.......#.##.#..
.###....#..#...
#..##.#..##..#.
.#.##.###..###.
...##..######..
...##..######..

.#.####.#.....#.#
...#..#...#...##.
###....###.#.#.##
#.#.##.#.#.#.#...
##.####.#####..##
##.#..#.####...##
#######.##.#..##.
##..##..####.#..#
#..####..#....##.
#.######.#.##..#.
##########.####.#
#.#.##.#.##.##..#
..#....#..####.#.
#........#..####.
..######....#.###
..######....#.###
#........#..####.

#.#..#..##..#
#.#..#..##..#
.###...#..#..
.#.##..####..
.###.#......#
...#..######.
...###.#..#.#
###.....##...
###.##......#
#...##.##.#.#
..##..#.##.#.

.#....#.#.#..#.
##.####.##.#..#
.#..#.#.##..##.
.#..#.#.##..##.
##.####.##.#..#
.#..#.#.#.#..#.
...#..#.###..#.
..##....#.#.#.#
##.#.#..##..##.
..###.#..##..##
#.#..##.##.#...
..#..###...###.
#..#...####.###
...#.#.#.###.#.
...#..#...##..#
...#..#...##..#
...#.#.#.###.#.

..#.#.###...#.##.
#####...###...#..
#...#..#.#..##.#.
#...#..#.#..##.#.
#####...###...#..
..#.#.###...#.##.
.#.##......#.#...
.........#..##...
####.#...#....#.#
.#..##.###....##.
.#..##.###....##.
####.#...#....#.#
.........#..##...
.#.##......#.#..#
..#.#.###...#.##.

#..#.#.#..##..##.
.#..#.##..##..##.
#....#.#....##...
..##..#####.##.##
#....#.###..##..#
..##..#.#..####..
######.#.#.#..#.#
#.##.#..#...##...
#.##.#....##..##.
..##..###.######.
##..####..#....#.
##..##...#..##..#
##..###..##.##.##
##..######.####.#
..##......#....#.

##..###.#
..##.##..
###.#...#
####.####
###..###.
...##....
...##....
###..###.
####.####
###.#..##
..##.##..
##..###.#
######...
....#..##
######.##

..###.####.......
##..####.###.##..
#.....#..##.####.
#.##.##..#.##..##
.#####.#.#.#.##.#
##....##...######
####....##.######
#.#####.##.#.##.#
...#.###..#..##..
....##.......##..
....##.......##..
...#.###..#..##..
#.#####.##.#.##.#
####....##.######
##....##...######
.#####.#.#.#.##.#
#.##.##..#.##..##

.#.##.#.##.
.#.##.#.##.
#.#..#.####
.######.#.#
##....###.#
.#.##.#.##.
#.#..#.#.##
#.####.##.#
..#.....###

..#####....
..###..####
..#..#.#...
#..#..##..#
..##..#....
#..#..##..#
.####......
..######..#
...#.#.####
#.##.#.#..#
..#..#.#..#
..#..#..##.
..#..#..##.

#....##....##
###......####
#..#....#..##
#.#.#..#.#.##
#.###..###.##
###.#..#.####
.#........#..
##.######.###
#..##..##..##
.####..####..
#.#..##..#.##
#.#.#..#.#.##
#.##....##.##
##.######.###
..#.####.#...
###..##.#####
##...##...###

.#.####...###
##.###.#.##..
#...##..#.###
#...##..#.###
##..##.#.##..
.#.####...###
#.#...#.##...
...#.......##
####.##.#.#..

..#.#..
##..#..
##..#..
...####
####.##
....#..
#####..
#..##..
.....##
..##...
....#..
##..###
...##..

.##..#...#.#.
.##..#...#.#.
.....#..####.
.##.#.#..###.
.##...#..#..#
#####.##.#.#.
#.##.#..#.#.#

#....##...#.##.
#....#...###..#
.####.##.##....
..##...########
##..##..##.#..#
#.##.#.....#..#
..##..#.....#..`;

  const mirror = new Mirror(input, false);
  expect(mirror.runningTotal).toEqual(40006);

  // too high - 41083
  // too low - 28474
  const mirror2 = new Mirror(input, true);
  expect(mirror2.runningTotal).toEqual(28627);
});

